(this["webpackJsonpmovie-tmdb"]=this["webpackJsonpmovie-tmdb"]||[]).push([[0],{218:function(e,t,c){},219:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(34),r=c.n(n),i=c(4),o=c(25),l=c(76),j=c(2),d="GET_ERROR",u="CLEAR_ERROR",b={msg:{},status:null,id:null},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(j.a)(Object(j.a)({},e),{},{msg:t.payload.msg,status:t.payload.status,id:t.payload.id});case u:return Object(j.a)(Object(j.a)({},e),{},{msg:{},status:null,id:null});default:return e}},h=c(10),O="GET_TVSHOW",p="GET_MOVIE",v="GET_WATCHLATER",f="GET_EPISODE",x="GET_COMMENT",_="LOAD_COMMENT",g="DELETE_REQUEST",N="DELETE_REQUEST",y="DELETE_REQUEST_SUCCESS",S={movie:[],tv:[],watchLater:[],episode:[],comment:[],isDeleting:!1,isDeleted:!1,deleteError:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(j.a)(Object(j.a)({},e),{},{comment:Object(h.a)(t.payload)});case x:var c=[].concat(Object(h.a)(e.comment),Object(h.a)(t.payload));return Object(j.a)(Object(j.a)({},e),{},{comment:c.filter((function(e,t,c){return c.findIndex((function(t){return t.id===e.id}))===t}))});case O:return Object(j.a)(Object(j.a)({},e),{},{tv:t.payload});case p:return Object(j.a)(Object(j.a)({},e),{},{movie:t.payload});case v:return Object(j.a)(Object(j.a)({},e),{},{watchLater:t.payload});case f:return Object(j.a)(Object(j.a)({},e),{},{episode:t.payload});case g:return Object(j.a)(Object(j.a)({},e),{},{isDeleting:!0,isDeleted:!1,deleteError:null});case N:return Object(j.a)(Object(j.a)({},e),{},{isDeleting:!1,isDeleted:!0,deleteError:t.payload});case y:return Object(j.a)(Object(j.a)({},e),{},{isDeleting:!1,isDeleted:!0,deleteError:null});default:return e}},E="OPEN_WATCH",T="CLOSE_WATCH",C={isWatch:!1},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{isWatch:!0};case T:return{isWatch:!1};default:return e}},L="LOGIN_SUCCESS",R="LOGIN_FAIL",D="REGISTER_SUCCESS",I="REGISTER_FAIL",A="REGISTER_RESET   ",F="LOGOUT_SUCCESS",P="USER_LOADING",M="USER_LOADED",Y="AUTH_ERROR",U="VERIFY_SUCCESS",G="VERIFY_FAIL",H={token:localStorage.getItem("token"),refreshToken:null,isAuthenticated:!1,isLoading:!1,user:localStorage.getItem("user"),register:!1,verify:!0},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case M:return localStorage.setItem("user",JSON.stringify(t.payload)),Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:!0,isLoading:!1,user:t.payload});case D:return Object(j.a)(Object(j.a)({},e),{},{register:!0});case L:return localStorage.setItem("token",t.payload.token),localStorage.setItem("refreshToken",t.payload.refreshToken),Object(j.a)(Object(j.a)({},e),{},{token:t.payload.token,refreshToken:t.payload.refreshToken,isAuthenticated:!0,isLoading:!1});case G:return Object(j.a)(Object(j.a)({},e),{},{verify:!1});case U:return Object(j.a)(Object(j.a)({},e),{},{verify:!0});case I:case A:return Object(j.a)(Object(j.a)({},e),{},{register:!1});case R:case Y:case F:return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),Object(j.a)(Object(j.a)({},e),{},{token:null,refreshToken:null,isAuthenticated:!1,isLoading:!1,user:null,register:!1});default:return e}},V="FORGOT_RESET",K="FORGOT_REQUEST",q="FORGOT_SUCCESS",B="FORGOT_FAIL",Q="SENDPASSWORD_SUCCESS",z="SENDPASSWORD_FAIL",X="SENDPASSWORD_REQUEST",J="SENDPASSWORD_RESET",Z={isLoading:!1,sendRecovery:!1,sendPassword:!1,code:localStorage.getItem("code"),resMessage:null,isSendFailed:null,isSendFailedReco:null,resMessageReco:null},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K:case V:return Object(j.a)(Object(j.a)({},e),{},{resMessage:null,isSendFailed:null});case J:case X:return Object(j.a)(Object(j.a)({},e),{},{resMessageReco:null,isSendFailedReco:null});case q:return Object(j.a)(Object(j.a)({},e),{},{sendRecovery:!0,isLoading:!1,resMessage:t.payload.message,isSendFailed:!1});case B:return Object(j.a)(Object(j.a)({},e),{},{sendRecovery:!1,isLoading:!1,resMessage:t.payload,isSendFailed:!0});case Q:return Object(j.a)(Object(j.a)({},e),{},{sendPassword:!1,isLoading:!1,resMessageReco:t.payload.message,isSendFailedReco:!1});case z:return Object(j.a)(Object(j.a)({},e),{},{sendPassword:!1,isLoading:!1,resMessageReco:t.payload,isSendFailedReco:!0});default:return e}},ee="GET_SEARCH",te="CLEAR_SEARCH",ce="CHANGE_SEARCH_KEY",ae="FILTER",se={data:[],filter:[],isFilter:!1,searchKey:""},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return Object(j.a)(Object(j.a)({},e),{},{searchKey:t.payload});case ee:return Object(j.a)(Object(j.a)({},e),{},{data:t.payload,searchKey:t.payload.searchKey});case ae:var c="all"!==t.payload.cat&&e.data.results?e.data.results.filter((function(e){return e.genres.some((function(e){return e.toLowerCase()===t.payload.cat}))})):[];return Object(j.a)(Object(j.a)({},e),{},{filter:{results:c},isFilter:"all"!==t.payload.cat});default:return e}},re="GET_MOVIE_INFO",ie="GET_TV_INFO",oe="GET_MOVIE_REQUEST",le="GET_MOVIE_REQUEST_FAIL",je="RESET_ERROR",de={isLoading:!1,isLoaded:!0,data:{},type:"movie",error:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(j.a)(Object(j.a)({},e),{},{error:null});case oe:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isLoaded:!1,error:null});case ie:return Object(j.a)(Object(j.a)({},e),{},{data:t.payload,isLoading:!1,isLoaded:!0,type:"tv",error:null});case re:return Object(j.a)(Object(j.a)({},e),{},{data:t.payload,isLoading:!1,isLoaded:!0,type:"movie",error:null});case le:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isLoaded:!0,error:t.payload});default:return e}},be=c(23),me="GET_VIDEO",he="GET_VIDEO_REQUEST",Oe="GET_VIDEO_FAIL",pe=["quality","mimeType","url"],ve={error:null,isLoading:!0,isLoaded:!1,data:[]},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0,isLoaded:!1,error:null});case me:var c=t.payload.map((function(e){var t=e.quality,c=e.mimeType,a=e.url,s=Object(be.a)(e,pe);return Object(j.a)({src:a,type:c,size:t},s)}));return Object(j.a)(Object(j.a)({},e),{},{data:c,isLoading:!1,isLoaded:!0});case Oe:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1,isLoaded:!1,data:[],error:t.payload.msg});default:return e}},xe="GET_HISTORY_REQUEST",_e="GET_HISTORY_SUCCESS",ge="GET_HISTORY_FAIL",Ne="ADD_HISTORY_REQUEST",ye="ADD_HISTORY_SUCCESS",Se="ADD_HISTORY_FAIL",we={isLoading:!1,data:""},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case _e:return Object(j.a)(Object(j.a)({},e),{},{data:t.payload,isLoading:!1});case ge:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1});case Ne:case ye:return Object(j.a)(Object(j.a)({},e),{},{isAdding:!0});case Se:return Object(j.a)(Object(j.a)({},e),{},{isAdding:!1});default:return e}},Te="GET_WATCHLIST_REQUEST",Ce="GET_WATCHLIST_SUCCESS",ke="GET_WATCHLIST_FAIL",Le="ADD_WATCHLIST_REQUEST",Re="ADD_WATCHLIST_SUCCESS",De="ADD_WATCHLIST_FAIL",Ie="DEL_WATCHLIST_REQUEST",Ae="DEL_WATCHLIST_SUCCESS",Fe="DEL_WATCHLIST_FAIL",Pe="GET_WATCHLIST_RESET",Me={isLoading:!1,data:"",isAdding:!1,isDeleting:!1,resMessage:null,isSendFailed:null},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:case Pe:return Object(j.a)(Object(j.a)({},e),{},{resMessage:null,isSendFailed:null});case Ce:return Object(j.a)(Object(j.a)({},e),{},{data:t.payload,isLoading:!1});case ke:return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1});case Le:return Object(j.a)(Object(j.a)({},e),{},{isAdding:!0,resMessage:null,isSendFailed:null});case Re:return Object(j.a)(Object(j.a)({},e),{},{isAddding:!0,resMessage:t.payload.message,isSendFailed:!1});case De:return Object(j.a)(Object(j.a)({},e),{},{isAddding:!1,resMessage:t.payload,isSendFailed:!0});case Ie:return Object(j.a)(Object(j.a)({},e),{},{isDeleting:!1});case Ae:return Object(j.a)(Object(j.a)({},e),{},{isDeleting:!0});case Fe:return Object(j.a)(Object(j.a)({},e),{},{isDeleting:!1});default:return e}},Ue=Object(o.b)({error:m,film:w,watch:k,auth:W,forgot:$,search:ne,movie:ue,stream:fe,history:Ee,watchlist:Ye}),Ge="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.c,He=[l.a],We=Object(o.d)(Ue,Ge(o.a.apply(void 0,He))),Ve=c(9),Ke=c(12),qe=Object(Ke.a)(),Be=[{name:"cat",value:"action",select:!1},{name:"cat",value:"romance",select:!1},{name:"cat",value:"drama",select:!1},{name:"cat",value:"fantasy",select:!1},{name:"cat",value:"family",select:!1},{name:"cat",value:"animation",select:!1},{name:"cat",value:"comedy",select:!1},{name:"cat",value:"all",select:!0}],Qe=function(){var e={};return localStorage.token&&(e.Authorization="Bearer ".concat(localStorage.token)),e},ze=function(e,t){return e.length>t?e.substring(0,t)+"...":e},Xe=c(0),Je=function(e){return Object(Xe.jsx)(Xe.Fragment,{children:e.response.data.error?e.response.data.error:e.response.data.errors.map((function(e,t){return Object(Xe.jsxs)("p",{children:[e.msg,"."]},t)}))})},Ze=c(43),$e=c.n(Ze),et=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL,tt=$e.a.create({baseURL:et});tt.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){if(401!==(e.response?e.response.status:null))return Promise.reject(e);var t=localStorage.refreshToken;if(!t)return qe.push("/login"),Promise.reject(e);var c={};return c.Authorization="Bearer ".concat(t),$e.a.create({baseURL:et,headers:c}).post("/auth/refreshtoken").then((function(t){return localStorage.setItem("token",t.data.accessToken),localStorage.setItem("refreshToken",t.data.accessToken),localStorage.refreshToken=t.data.refreshToken,e.config.headers.Authorization="Bearer ".concat(localStorage.token),e.config.baseURL=et,tt.request(e.config)})).catch((function(e){return 401!==(e.response?e.response.status:null)||(qe.push("/login"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken")),Promise.reject(e)}))}));var ct=tt,at=function(e,t,c){return function(a){a({type:d,payload:{msg:e,status:t,id:c}})}},st=function(){return function(e){e({type:u})}},nt=function(){return function(e){var t=localStorage.getItem("token");e({type:P}),t?ct.get("/user",{headers:Qe()}).then((function(t){e({type:M,payload:t.data})})).catch((function(e){console.log(e)})):e({type:Y})}},rt=c(5),it=c(222),ot=c(223),lt=c(224),jt=c(6),dt=c(221),ut=function(e){return function(t){var c=localStorage.getItem("token");t({type:Te}),c?ct.get("/watchlist?limit=20?page=".concat(e),{headers:Qe()}).then((function(e){t({type:Ce,payload:e.data})})).catch((function(e){if(e){var c=Je(e);t({type:ke,paload:c,status:e.response.status})}})):t({type:ke})}};var bt=function(e){var t=e.id,c=e.idDel,a=e.image,s=e.name,n=e.overview,r=e.cat,o=e.count,l=e.lg,j=void 0===l?4:l,d=e.md,u=void 0===d?4:d,b=e.sm,m=void 0===b?6:b,h=e.xs,O=void 0===h?12:h,p=e.haveDeleteIcon,v=void 0!==p&&p,f=Object(i.b)(),x=function(e){e.stopPropagation(),window.confirm("Are you sure to want to delete this item ?")&&alert("delete success!"),f(function(e){return function(t){var c=localStorage.getItem("token");t({type:Ie}),c?ct.delete("/watchlist/".concat(e),{headers:Qe()}).then((function(e){t({type:Ae,payload:e.data})})).catch((function(e){if(e){var c=Je(e);t({type:Fe,paload:c,status:e.response.status})}})):t({type:Fe})}}(c)),f(ut(1))};return Object(Xe.jsx)("div",{className:"c-search-item col-lg-".concat(j," col-md-").concat(u," col-sm-").concat(m," col-xs-").concat(O),children:Object(Xe.jsxs)("div",{className:"gutter",children:[v?Object(Xe.jsx)("div",{className:"c-search-item__delete",children:Object(Xe.jsx)(dt.a,{onClick:function(e){return x(e)}})}):Object(Xe.jsx)(Xe.Fragment,{}),Object(Xe.jsxs)(jt.a,{to:"/movie/"+t,children:[Object(Xe.jsx)("div",{className:"c-search-item__img",children:Object(Xe.jsx)("img",{src:a,alt:""})}),Object(Xe.jsx)("div",{className:"c-search-item__name",children:s}),Object(Xe.jsx)("div",{className:"c-search-item__cat",children:r}),Object(Xe.jsx)("div",{className:"c-search-item__bottom",children:Object(Xe.jsx)("p",{className:"c-search-item__overview",children:n})}),Object(Xe.jsx)("div",{className:"c-search-item__release",children:o})]})]})})},mt=c(19),ht=c.n(mt),Ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(c){e&&ct.get("https://api.themoviedb.org/3/search/movie?api_key=9a1fc638397541056dd18c70ea21b96b&query=".concat(e,"&page=").concat(t)).then((function(t){console.log(t),c({type:ee,payload:Object(j.a)(Object(j.a)({},t.data),{},{searchKey:e})})})).catch((function(e){console.log(e),c({type:te})}))}},pt=function(e){return function(t){t({type:ce,payload:e})}};var vt=function(e){var t=e.page,c=e.totalPage,s=e.onPageChange,n=function(e,t){s(e,t)},r=Object(a.useMemo)((function(){return new Array(c).fill(0).map((function(e,t){return t+1}))}),[c]),i=Object(a.useState)([]),o=Object(rt.a)(i,2),l=o[0],j=o[1];return Object(a.useEffect)((function(){var e=Object(h.a)(r);if(r.length>5)if(t>=1&&t<=3)e=[1,2,3,4,"...",r.length];else if(4===t){var c=r.slice(0,5);e=[].concat(Object(h.a)(c),["...",r.length])}else if(t>4&&t<r.length-2){var a=r.slice(t-2,t),s=r.slice(t,t+1);e=[1,"..."].concat(Object(h.a)(a),Object(h.a)(s),["...",r.length])}else if(t>r.length-3){var n=r.slice(r.length-4);e=[1,"..."].concat(Object(h.a)(n))}j(e)}),[t,r]),Object(Xe.jsx)("div",{className:1!==c&&c?"c-paginate":"c-paginate is-hide",children:Object(Xe.jsxs)("ul",{children:[c>1&&Object(Xe.jsx)("li",{className:"c-paginate__item c-paginate__item--controller".concat(1===t?" is-disable":""),onClick:function(e){return n(e,t-1)},children:"prev"})||Object(Xe.jsx)(Xe.Fragment,{}),l.map((function(e,c){return Object(Xe.jsx)("li",{className:"c-paginate__item".concat(Number(e)?" c-paginate__item--num":" c-paginate__item--dots").concat(t===e?" is-current":""),onClick:function(t){return n(t,e)},children:e},c)})),c>1&&Object(Xe.jsx)("li",{className:"c-paginate__item c-paginate__item--controller".concat(t===c?" is-disable":""),onClick:function(e){return t<c?n(e,t+1):""},children:"next"})||Object(Xe.jsx)(Xe.Fragment,{})]})})};var ft=function(e){var t=e.location.search,c=Object(i.c)((function(e){return e.search.searchKey})),n=Object(i.c)((function(e){return e.search.data})),r=Object(i.c)((function(e){return e.search.filter})),o=Object(i.c)((function(e){return e.search.isFilter})),l=Object(a.useState)(null),j=Object(rt.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(1),m=Object(rt.a)(b,2),h=m[0],O=m[1],p=Object(a.useState)([]),v=Object(rt.a)(p,2),f=v[0],x=v[1],_=Object(i.b)(),g=function(e){var t=e.target.value,c=e.target.checked;x((function(e){return e.map((function(e){return e.select=!1,e.value===t&&(e.select=c),_(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return function(t){t({type:ae,payload:{cat:e}})}}(t)),e}))}))},N=function(e){e.preventDefault(),_(Ot(c)),u(c)},y=Object(a.useState)(!1),S=Object(rt.a)(y,2),w=S[0],E=S[1];return Object(a.useEffect)((function(){if(document.title="Search",t&&t.length){var e=ht.a.parse(t).q;_(pt(e)),_(Ot(e)),u(e)}x(Be)}),[_,t,n]),Object(Xe.jsx)("div",{className:"p-search",children:Object(Xe.jsx)("div",{className:"l-container",children:Object(Xe.jsxs)("div",{className:"p-search__content js-dark-here",children:[Object(Xe.jsxs)("div",{className:"p-search__left",children:[Object(Xe.jsx)("h3",{children:"Search"}),Object(Xe.jsxs)("div",{className:"p-search__filter",children:[Object(Xe.jsxs)("div",{className:"p-search__filter__control",onClick:function(){E((function(e){return!e}))},children:[Object(Xe.jsx)("h4",{children:"Categories"}),Object(Xe.jsx)(it.a,{className:"plus"}),Object(Xe.jsx)(ot.a,{className:"minus"})]}),Object(Xe.jsx)("ul",{className:w?"is-open":"",children:f.length&&f.map((function(e){return Object(Xe.jsxs)("li",{children:[Object(Xe.jsx)("input",{type:"radio",name:e.name,value:e.value,checked:e.select,onChange:function(e){return g(e)}}),Object(Xe.jsx)("span",{children:e.value})]},e.value)}))})]})]}),Object(Xe.jsxs)("div",{className:"p-search__right",children:[Object(Xe.jsx)("div",{className:"p-search__top",children:Object(Xe.jsxs)("div",{className:"p-search__top__form",children:[Object(Xe.jsxs)("form",{action:"",onSubmit:function(e){return N(e)},children:[Object(Xe.jsx)("div",{className:"search-icon",onClick:function(e){return N(e)},children:Object(Xe.jsx)(lt.a,{})}),Object(Xe.jsx)("input",{type:"text",placeholder:"Enter your film",onChange:function(e){return function(e){var t=e.target.value;_(pt(t))}(e)},value:c})]}),d&&d.length?Object(Xe.jsxs)("p",{children:["Search for ",Object(Xe.jsx)("b",{children:d})]}):Object(Xe.jsx)(Xe.Fragment,{})]})}),Object(Xe.jsx)("div",{className:"p-search__list row",children:o?r.results&&r.results.length&&r.results.map((function(e,t){return Object(Xe.jsx)(s.a.Fragment,{children:Object(Xe.jsx)(bt,{id:e.id,image:(null===e||void 0===e?void 0:e.poster_path)&&"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),name:e.title,rated:e.popularity,cat:e.map((function(e){return e.name})).join(", "),overview:e.overview.substring(0,150)+"...",type:e.tvShow?"tvshow":"movie"})},t)}))||Object(Xe.jsx)("p",{className:"p-search__list--empty",children:"No filter results found"}):n.results&&n.results.length&&n.results.map((function(e,t){return Object(Xe.jsx)(s.a.Fragment,{children:Object(Xe.jsx)(bt,{id:e.id,image:(null===e||void 0===e?void 0:e.poster_path)&&"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),name:e.title,rated:e.popularity,actor:"Faker, Daxua, Neymar",cat:(null===e||void 0===e?void 0:e.genres)&&e.genres.map((function(e){return e.name})).join(", "),overview:e.overview.substring(0,150)+"...",type:e.tvShow?"tvshow":"movie"})},t)}))||Object(Xe.jsx)("p",{className:"p-search__list--empty",children:"No search results found"})}),Object(Xe.jsx)("div",{className:"p-search__paginate",children:Object(Xe.jsx)(vt,{page:h,totalPage:n.totalPages||0,onPageChange:function(e,t){return function(e,t){e.preventDefault(),Number(t)&&(O(t),_(Ot(c,t)))}(e,t)}})})]})]})})})};var xt=function(e){var t=e.text,c=void 0===t?"":t;return Object(Xe.jsxs)("div",{className:"c-form__warning",children:[" \u2724 ",c]})},_t=c(21),gt=c.n(_t),Nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return gt.a.isEmail(e)},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return gt.a.isLength(e,{min:8,max:128})},St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e===t};var wt=function(){var e=Object(i.c)((function(e){return e.auth.register})),t=Object(a.useState)(""),c=Object(rt.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)(""),l=Object(rt.a)(o,2),j=l[0],d=l[1],u=Object(a.useState)(""),b=Object(rt.a)(u,2),m=b[0],h=b[1],O=Object(a.useState)(""),p=Object(rt.a)(O,2),v=p[0],f=p[1],x=Object(a.useState)(""),_=Object(rt.a)(x,2),g=_[0],N=_[1],y=Object(a.useState)(""),S=Object(rt.a)(y,2),w=S[0],E=S[1],T=Object(i.b)(),C=Object(a.useState)(!1),k=Object(rt.a)(C,2),L=k[0],R=k[1],F=Object(a.useState)(!1),P=Object(rt.a)(F,2),M=P[0],Y=P[1],U=Object(a.useState)(!1),G=Object(rt.a)(U,2),H=G[0],W=G[1],V=Object(a.useState)(!1),K=Object(rt.a)(V,2),q=K[0],B=K[1],Q=Object(a.useState)(!1),z=Object(rt.a)(Q,2),X=z[0],J=z[1],Z=Object(a.useState)(!1),$=Object(rt.a)(Z,2),ee=$[0],te=$[1],ce=Object(i.c)((function(e){return e.error})),ae=function(e){13===e.which&&se()},se=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1970-12-30",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DD-MM-YYYY";"DD-MM-YYYY"===t&&(e=e.split("-").reverse().join("-"));var a=new Date(e).getFullYear(),s=new Date(e).getMonth()+1,n=new Date(e).getDate();s<10&&(s="0"+s.toString()),n<10&&(n="0"+n.toString());var r={DD:n,MM:s,YYYY:a};return c.replace(/MM|DD|YYYY/gi,(function(e){return r[e]}))}(v,"YYYY-MM-DD","DD-MM-YYYY");L||M||H||q||X||ee||""!==n&&""!==j&&""!==m&&""!==g&&""!==w&&T(function(e,t,c,a,s,n){return function(r){var i={username:e,displayName:t,email:c,password:a,confirmPassword:s,dateOfBirth:n};ct.post("/auth/register/",i).then((function(e){r({type:D,payload:e.data}),r(st())})).catch((function(e){e.response&&r(at(e.response.data.error||e.response.data.errors,e.response.status,I)),r({payload:{msg:"Server error!!!",status:500,id:I},type:I})}))}}(n,m,j,g,w,e))},ne=function(e){ce.id&&T(st());var t=e.target.value;t.length>=0&&(r(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return gt.a.isAlphanumeric(e,["en-US"])&&gt.a.isLength(e,{min:3,max:32})}(t)?R(!0):R(!1))},re=function(e){ce.id&&T(st());var t=e.target.value;t.length>=0&&(h(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return gt.a.isLength(e,{max:32})}(t)?W(!0):W(!1))},ie=function(e){ce.id&&T(st());var t=e.target.value;t.length>=0&&(f(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Date(e);return gt.a.isDate(e,"YYYY-MM-DD")&&t<new Date}(t)?B(!0):B(!1))};return Object(a.useEffect)((function(){setTimeout((function(){T({type:A})}),4e3)}),[T,ce]),Object(Xe.jsxs)("div",{className:"register",children:[Object(Xe.jsx)("div",{className:"c-overlayer",children:" "}),Object(Xe.jsx)("div",{className:"register__content js-dark-here",children:Object(Xe.jsxs)("div",{className:"c-form",children:[Object(Xe.jsx)("h3",{className:"c-form__title",children:"Register"}),Object(Xe.jsxs)("form",{action:"",children:[Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",type:"text",value:n,onChange:function(e){return ne(e)},onKeyPress:function(e){return ae(e)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Username"})]}),L&&Object(Xe.jsx)(xt,{text:"Username must be alphanumeric, between 3 and 32 characters long"}),Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",type:"text",value:j,onChange:function(e){return function(e){ce.id&&T(st());var t=e.target.value;t.length>=0&&(d(t),Nt(t)?Y(!1):Y(!0))}(e)},onKeyPress:function(e){return ae(e)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Email"})]}),M&&Object(Xe.jsx)(xt,{text:"Email must be valid"}),Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",type:"text",value:m,onChange:function(e){return re(e)},onKeyPress:function(e){return ae(e)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Display name"})]}),H&&Object(Xe.jsx)(xt,{text:"Display name must be less than 32 characters long"}),Object(Xe.jsxs)("div",{className:"c-form__group is-focus",children:[Object(Xe.jsx)("input",{className:"c-form__input_date",type:"date",min:"1920-01-01",max:"2021-12-12",value:v,onChange:function(e){return ie(e)},onKeyPress:function(e){return ae(e)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Birthday"})]}),q&&Object(Xe.jsx)(xt,{text:"Date of birth must be valid date and must not be after the current date"}),Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",autoComplete:"new-password",type:"password",value:g,onChange:function(e){return function(e){ce.id&&T(st());var t=e.target.value;t.length>=0&&(N(t),yt(t)?J(!1):J(!0))}(e)},onKeyPress:function(e){return ae(e)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Password"})]}),X&&Object(Xe.jsx)(xt,{text:"Password must be between 8 and 128 characters long"}),Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",type:"password",value:w,onChange:function(e){return function(e){ce.id&&T(st());var t=e.target.value;t.length>=0&&(E(t),St(g,t)?te(!1):te(!0))}(e)},onKeyPress:function(e){return ae(e)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Retype password"})]}),ee&&Object(Xe.jsx)(xt,{text:"Passwords and confirm passwords do not match"}),"REGISTER_FAIL"===ce.id&&(Array.isArray(ce.msg)?ce.msg.map((function(e,t){return Object(Xe.jsx)(s.a.Fragment,{children:Object(Xe.jsx)(xt,{text:e.msg})},t)})):Object(Xe.jsx)(xt,{text:ce.msg})),e&&Object(Xe.jsx)(xt,{text:"Register successfully, Please check your mail box!"}),Object(Xe.jsx)("div",{className:"c-form__actions",children:Object(Xe.jsx)("button",{className:"c-btn ".concat(L||X||ee||q||H||M||n.length<=0?"c-btn--disabled ":""," c-btn--primary"),type:"button",onClick:function(){return se()},children:"Register"})})]}),Object(Xe.jsx)("div",{className:"c-form__below",children:Object(Xe.jsx)(jt.a,{to:"/login",children:"Already have a account?"})})]})})]})};var Et=function(e){var t=e.nameClass,c=void 0===t?"":t;return Object(Xe.jsx)("div",{className:"c-loading ".concat(c),children:Object(Xe.jsx)("div",{className:"c-loading__content",children:Object(Xe.jsx)("div",{className:"c-loading__line "})})})};var Tt=function(){var e=Object(i.b)(),t=Object(a.useState)(""),c=Object(rt.a)(t,2),n=c[0],r=c[1],o=Object(a.useState)(""),l=Object(rt.a)(o,2),j=l[0],d=l[1],u=Object(a.useState)(!1),b=Object(rt.a)(u,2),m=b[0],h=b[1],O=Object(a.useState)(!1),p=Object(rt.a)(O,2),v=p[0],f=p[1],x=Object(a.useState)(!1),_=Object(rt.a)(x,2),g=_[0],N=_[1],y=Object(i.c)((function(e){return e.error})),S=function(){m||v||""===n||""===j||e(function(e,t){return function(c){ct.post("/auth/login/",{username:e,password:t},{headers:{Authorization:""}}).then((function(e){qe.push("/"),c({type:L,payload:{token:e.data.accessToken,refreshToken:e.data.refreshToken}}),c(nt()),c(st())})).catch((function(e){e.response&&c(at(e.response.data.error||e.response.data.errors,e.response.status,R)),c({payload:{msg:"Server error!!!",status:500,id:R},type:R})}))}}(n,j))},w=function(e){13===e.which&&S()},E=function(t){y.id&&e(st());var c=t.target.value;c.length>=0&&(r(c),!0===function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return gt.a.isLength(e,{min:3,max:32})}(c)?h(!1):h(!0))};return Object(a.useEffect)((function(){document.title="Login",e({type:F}),N(!0)}),[e,y,g]),Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Et,{nameClass:g?"is-fadeout":""}),Object(Xe.jsxs)("div",{className:"login",children:[Object(Xe.jsx)("div",{className:"c-overlayer",children:" "}),Object(Xe.jsx)("div",{className:"login__content js-dark-here",children:Object(Xe.jsxs)("div",{className:"c-form ",children:[Object(Xe.jsx)("h3",{className:"c-form__title",children:"Login"}),Object(Xe.jsxs)("form",{action:"",children:[Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",type:"text",value:n,onKeyPress:function(e){return w(e)},onChange:function(e){return E(e)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Username"})]}),m&&Object(Xe.jsx)(xt,{text:"Username or email must be at least 3 characters long"}),Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",type:"password",value:j,autoComplete:"new-password",onKeyPress:function(e){return w(e)},onChange:function(t){return function(t){y.id&&e(st());var c=t.target.value;c.length>=0&&(d(c),!0===yt(c)?f(!1):f(!0))}(t)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Password"})]}),v&&Object(Xe.jsx)(xt,{text:"Password must be at least 8 characters long."}),"LOGIN_FAIL"===y.id&&(Array.isArray(y.msg)?y.msg.map((function(e,t){return Object(Xe.jsx)(s.a.Fragment,{children:Object(Xe.jsx)(xt,{text:e.msg})},t)})):Object(Xe.jsx)(xt,{text:y.msg})),Object(Xe.jsx)("div",{className:"c-form__actions",children:Object(Xe.jsx)("button",{className:"c-btn ".concat(m||v||n.length<=0||j.length<=0?"c-btn--disabled ":""," c-btn--primary"),type:"button",onClick:function(){return S()},children:"Login"})})]}),Object(Xe.jsx)("div",{className:"c-form__below",children:Object(Xe.jsx)(jt.a,{to:"/forgotpassword",children:"Forgot password?"})}),Object(Xe.jsx)("div",{className:"c-form__below",children:Object(Xe.jsx)(jt.a,{to:"/register",children:"Need an account?"})})]})})]})]})};var Ct=function(e){var t=e.msg,c=e.type,s=void 0===c?"":c,n=Object(a.useState)(!1),r=Object(rt.a)(n,2),i=r[0],o=r[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){o(!0)}),5e3);return function(){return clearTimeout(e)}}),[]),Object(Xe.jsxs)("div",{className:"c-alert ".concat(s," ").concat(i?"":"is-show"),children:[t,Object(Xe.jsx)("span",{className:"c-alert__close",onClick:function(e){return function(e){e.stopPropagation(),o(!0)}(e)},children:"\u2716"})]})};var kt=function(){var e=Object(i.c)((function(e){return e.forgot.resMessage})),t=Object(i.c)((function(e){return e.forgot.isSendFailed})),c=Object(a.useState)(""),s=Object(rt.a)(c,2),n=s[0],r=s[1],o=Object(i.b)(),l=Object(a.useState)(!1),j=Object(rt.a)(l,2),d=j[0],u=j[1],b=Object(i.c)((function(e){return e.forgot.sendRecovery})),m=function(){d||""===n||o(function(e){return function(t){t({type:K}),ct.post("/auth/sendrecoveryemail/",{email:e},{headers:Qe()}).then((function(e){t({type:q,payload:e.data}),t(st())})).catch((function(e){var c=Je(e);t({type:B,payload:c})}))}}(n))};return Object(a.useEffect)((function(){o({type:V})}),[o]),Object(Xe.jsxs)(Xe.Fragment,{children:[null!==t?Object(Xe.jsx)(Ct,{msg:e,type:t?"c-alert--error":"c-alert--success"}):Object(Xe.jsx)(Xe.Fragment,{}),Object(Xe.jsxs)("div",{className:"login",children:[Object(Xe.jsx)("div",{className:"c-overlayer",children:" "}),Object(Xe.jsx)("div",{className:"login__content js-dark-here",children:Object(Xe.jsxs)("div",{className:"c-form",children:[Object(Xe.jsx)("h3",{className:"c-form__title",children:"Forgot Password"}),Object(Xe.jsxs)("form",{action:"",children:[Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",type:"text",value:n,onChange:function(e){return function(e){var t=e.target.value;t.length>=0&&(r(t),!0===Nt(t)?u(!1):u(!0))}(e)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"Email"})]}),d&&Object(Xe.jsx)(xt,{text:"Email must be valid"}),Object(Xe.jsx)("div",{className:"c-form__actions",children:Object(Xe.jsx)("button",{className:"".concat(d||n.length<=0?"c-btn--disabled ":"","c-btn  c-btn--primary"),type:"button",onClick:function(){return m()},children:"Send"})})]}),b&&Object(Xe.jsx)("span",{className:"c-form__text",style:{display:"block",marginTop:"10px",fontSize:"1.4rem"},children:"Email was send successful, Click the link on email to reset password !"})]})})]})]})};var Lt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.forgot.resMessageReco})),c=Object(i.c)((function(e){return e.forgot.isSendFailedReco})),s=Object(a.useState)(""),n=Object(rt.a)(s,2),r=n[0],o=n[1],l=Object(a.useState)(""),j=Object(rt.a)(l,2),d=j[0],u=j[1],b=Object(a.useState)(""),m=Object(rt.a)(b,2),h=m[0],O=m[1],p=Object(a.useState)(!1),v=Object(rt.a)(p,2),f=v[0],x=v[1],_=Object(a.useState)(!1),g=Object(rt.a)(_,2),N=g[0],y=g[1],S=Object(i.c)((function(e){return e.error})),w=function(){e(function(e,t,c){return function(a){var s={recoveryCode:e,password:t,confirmPassword:c};a({type:X}),ct.post("/auth/resetpassword/",s,{headers:Qe()}).then((function(e){a({type:Q,payload:e.data}),a(st())})).catch((function(e){if(e.response){var t=Je(e);a({type:z,payload:t})}a({payload:{msg:"Server error!!!",status:500,id:z},type:z})}))}}(h,r,d))};return Object(a.useEffect)((function(){var t,c=ht.a.parse(window.location.search).code;O(c),e({type:J}),c||e((t="/",void qe.push(t)))}),[e]),Object(Xe.jsxs)(Xe.Fragment,{children:[null!==c?Object(Xe.jsx)(Ct,{msg:t,type:c?"c-alert--error":"c-alert--success"}):Object(Xe.jsx)(Xe.Fragment,{}),Object(Xe.jsxs)("div",{className:"login",children:[Object(Xe.jsx)("div",{className:"c-overlayer",children:" "}),Object(Xe.jsx)("div",{className:"login__content js-dark-here",children:Object(Xe.jsxs)("div",{className:"c-form",children:[Object(Xe.jsx)("h3",{className:"c-form__title",children:"Recovery Password"}),Object(Xe.jsxs)("form",{action:"",children:[Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("input",{className:"c-form__input",type:"password",value:r,onChange:function(t){return function(t){S.id&&e(st());var c=t.target.value;c.length>=0&&(o(c),!0===yt(c)?x(!1):x(!0))}(t)},required:!0}),Object(Xe.jsx)("label",{className:"c-form__label",children:"New password"})]}),f&&Object(Xe.jsx)(xt,{text:"Password must be between 8 and 128 characters long"}),Object(Xe.jsxs)("div",{className:"c-form__group",children:[Object(Xe.jsx)("label",{className:"c-form__label",children:"Retype new password"}),Object(Xe.jsx)("input",{className:"c-form__input",type:"password",value:d,onChange:function(t){return function(t){S.id&&e(st());var c=t.target.value;c.length>=0&&(u(c),!0===St(r,c)?y(!1):y(!0))}(t)}})]}),N&&Object(Xe.jsx)(xt,{text:"Passwords and confirm passwords do not match"}),Object(Xe.jsx)("div",{className:"c-form__actions",children:Object(Xe.jsx)("button",{className:"c-btn c-btn--primary",type:"button",onClick:function(){return w()},children:"Send"})})]})]})})]})]})};var Rt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.auth.verify}));return Object(a.useEffect)((function(){var t,c,a=ht.a.parse(window.location.search).code;a&&a.length>0?e((c=a,function(e){ct.post("/auth/confirmemail/",{activationCode:c,headers:Qe()}).then((function(t){e({type:U,payload:t.data}),e(st()),setTimeout((function(){qe.push("/login"),e({type:G,payload:t.data})}),5e3)})).catch((function(t){t.response&&e(at(t.response.data.error||t.response.data.errors,t.response.status,G)),e({payload:{msg:"Server error!!!",status:500,id:G},type:G}),setTimeout((function(){qe.push("/login")}),2e3)}))})):e((t="/",void qe.push(t)))}),[e]),Object(Xe.jsxs)("div",{className:"login",children:[Object(Xe.jsx)("span",{className:"c-overlayer",children:" "}),Object(Xe.jsx)("div",{className:"login__content",children:Object(Xe.jsxs)("div",{className:"c-form",children:[Object(Xe.jsx)("h2",{className:"c-form__title c-form__title-mid",children:"Verify Email"}),!t&&Object(Xe.jsx)("h3",{className:"c-form__text",children:"Please wait while we verifying your email..."}),t&&Object(Xe.jsx)("h3",{className:"c-form__text",children:"Email confirmation was successful! We will take you to the login page !"})]})})]})};var Dt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.watchlist.data})),c=Object(i.c)((function(e){return e.watchlist.isLoading})),n=Object(i.c)((function(e){return e.watchlist.isDeleting})),r=Object(a.useState)(1),o=Object(rt.a)(r,2),l=o[0],j=o[1];return Object(a.useEffect)((function(){e(ut(l)),!0===n&&e(ut(1))}),[e,l,n]),Object(Xe.jsxs)("div",{className:"p-search",children:[Object(Xe.jsx)(Et,{nameClass:c?"":"is-fadeout"}),Object(Xe.jsx)("div",{className:"l-container",children:Object(Xe.jsxs)("div",{className:"p-search__content",children:[Object(Xe.jsxs)("div",{className:"p-search__right",children:[Object(Xe.jsx)("div",{className:"p-search__top",children:Object(Xe.jsx)("h3",{children:"My List"})}),Object(Xe.jsx)("div",{className:"p-search__list row",children:t.results&&t.results.length&&t.results.map((function(e,t){return Object(Xe.jsx)(s.a.Fragment,{children:Object(Xe.jsx)(bt,{haveDeleteIcon:!0,idDel:e._id,id:e.media._id,image:e.media.posterPath,name:e.media.title,rated:e.media.popularity,cat:e.media.genres.join(", "),lg:3,overview:e.media.overview.substring(0,150)+"...",type:e.media.tvShow?"tvshow":"movie"})},t)}))})]}),Object(Xe.jsx)("div",{className:"p-search__paginate",children:Object(Xe.jsx)(vt,{page:l,totalPage:t.totalPages||0,onPageChange:function(e,t){return function(e,t){e.preventDefault(),Number(t)&&j(t)}(e,t)}})})]})})]})},It=c(225),At=c(226),Ft=c(24),Pt=c.n(Ft),Mt=function(e){var t=e.className,c=e.onClick;return Object(Xe.jsx)(It.a,{className:t+" c-mainvisuals__arrow c-mainvisuals__arrow--next",onClick:c})},Yt=function(e){var t=e.className,c=e.onClick;return Object(Xe.jsx)(At.a,{className:t+" c-mainvisuals__arrow c-mainvisuals__arrow--prev",onClick:c})},Ut={dots:!1,slidesToShow:1,slidesToScroll:1,infinite:!0,autoplay:!0,speed:500,autoplaySpeed:3e3,cssEase:"linear",nextArrow:Object(Xe.jsx)(Mt,{}),prevArrow:Object(Xe.jsx)(Yt,{})};var Gt=function(){var e=Object(a.useState)(null),t=Object(rt.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){new Promise((function(e,t){ct.get("https://api.themoviedb.org/3/movie/popular?api_key=9a1fc638397541056dd18c70ea21b96b&language=en-US&page=1").then((function(t){return e(t)})).catch((function(e){return t(e)}))})).then((function(e){s(e.data.results)})).catch((function(){return s(null)}))}),[]),Object(Xe.jsx)("div",{className:"c-mainvisuals js-mainvisuals","data-anchor":"1",children:Object(Xe.jsx)("div",{className:"c-mainvisuals__content js-fullheight",children:Object(Xe.jsx)(Pt.a,Object(j.a)(Object(j.a)({className:"c-slide"},Ut),{},{children:c?c.map((function(e,t){return Object(Xe.jsxs)("div",{className:"c-slide__item",children:[Object(Xe.jsx)("span",{className:"c-slide__item__blur"}),Object(Xe.jsx)("img",{className:"c-slide__image",src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path)||!1,alt:"",loading:"lazy"}),Object(Xe.jsx)("div",{className:"c-slide__info",children:Object(Xe.jsxs)("div",{className:"c-slide__info__content",children:[Object(Xe.jsx)("span",{className:"c-slide__label",children:"POPULARITY"}),Object(Xe.jsx)("h3",{className:"c-title1",children:e.title}),Object(Xe.jsx)("p",{className:"c-slide__description",children:e.overview?ze(e.overview,150):""}),Object(Xe.jsx)("div",{className:"c-slide__actions",children:Object(Xe.jsx)(jt.a,{to:"/movie/".concat(e.id),className:"c-btn",children:"PLAY FILM"})})]})})]},t)})):Object(Xe.jsx)(Xe.Fragment,{})}))})})},Ht=function(){return function(e){ct.get("https://api.themoviedb.org/3/discover/tv?api_key=9a1fc638397541056dd18c70ea21b96b").then((function(t){e({type:O,payload:t.data.results})})).catch((function(t){console.log(t),e({type:O,payload:[]})}))}},Wt=c(227);var Vt=function(e){var t=e.id,c=e.image,a=e.cat,s=e.name,n=e.chapter;return Object(Xe.jsx)("div",{className:"c-item u-fade",children:Object(Xe.jsxs)("div",{className:"gutter",children:[Object(Xe.jsx)("img",{className:"c-item__image",src:c||"".concat("","/assets/img/no-image.png"),alt:"",loading:"lazy"}),Object(Xe.jsxs)("div",{className:"c-item__content",children:[Object(Xe.jsx)("div",{className:"is-hover",children:Object(Xe.jsx)("span",{className:"c-item__label",children:a})}),Object(Xe.jsx)("p",{className:"c-item__name",children:s}),Object(Xe.jsxs)("div",{className:"u-flex u-a-center",children:[Object(Xe.jsx)(jt.a,{to:"/movie/".concat(t),className:"c-item__play",children:Object(Xe.jsx)(Wt.a,{})}),Object(Xe.jsx)("span",{className:"c-item__chapter",children:n})]})]})]})})};var Kt=function(e){var t=e.subtitle,c=e.title,a=e.list,s=e.browseLink,n=e.browseTitle,r=function(e){var t=e.className,c=e.onClick;return Object(Xe.jsx)(It.a,{className:t+" u-fade",onClick:c})},i=function(e){var t=e.className,c=e.onClick;return Object(Xe.jsx)(At.a,{className:t+" u-fade",onClick:c})},o={dots:!0,infinite:a&&a.length>=4,speed:500,slidesToShow:4,slidesToScroll:4,nextArrow:Object(Xe.jsx)(r,{}),prevArrow:Object(Xe.jsx)(i,{}),responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3,infinite:a&&a.length>=3,dots:!0}},{breakpoint:850,settings:{slidesToShow:3,slidesToScroll:3,initialSlide:3,infinite:a&&a.length>=3}},{breakpoint:450,settings:{slidesToShow:2,slidesToScroll:2,infinite:a&&a.length>=2}}]};return Object(Xe.jsx)("section",{className:"p-top1 ",children:Object(Xe.jsxs)("div",{className:"l-container",children:[Object(Xe.jsxs)("div",{className:"p-top1__title u-fade",children:[Object(Xe.jsx)("h4",{className:"c-subtitle",children:t}),Object(Xe.jsx)("h3",{className:"c-title",children:c})]}),Object(Xe.jsx)("div",{className:"p-top1__content",children:Object(Xe.jsx)(Pt.a,Object(j.a)(Object(j.a)({},o),{},{children:a.length&&a.map((function(e,t){return Object(Xe.jsx)(Vt,{id:e.id,image:e.poster_path&&"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),cat:e.genres&&e.genres.join(", "),name:e.title,type:e.movie?"movie":"tvshow"},t)}))}))}),s&&n?Object(Xe.jsx)(jt.a,{to:s,className:"c-btn c-btn--primary c-more u-fade",children:n}):Object(Xe.jsx)(Xe.Fragment,{})]})})};var qt=function(e){var t=e.id,c=e.image,a=e.resolution,s=void 0===a?[]:a,n=e.runtime,r=e.cat,i=e.age,o=e.name,l=e.type,j=e.releaseDate;return Object(Xe.jsx)("div",{className:"c-item2 u-fade",children:Object(Xe.jsx)("div",{className:"gutter",children:Object(Xe.jsxs)(jt.a,{to:"/movie/".concat(t),children:[Object(Xe.jsxs)("div",{className:"c-item2__image",children:[Object(Xe.jsx)("img",{src:c||"".concat("","/assets/img/no-image.png"),alt:"",loading:"lazy"}),Object(Xe.jsxs)("div",{className:"is-hover",children:[Object(Xe.jsx)("span",{className:"c-item2__cat",children:r}),Object(Xe.jsxs)("div",{className:"c-item2__hover u-flex u-a-center u-between",children:[Object(Xe.jsxs)("div",{className:"c-resolution",children:[s[0]?s[0]:"1080",Object(Xe.jsx)("span",{children:s[1]?s[1]:"Full HD"})]}),Object(Xe.jsx)("div",{})]})]})]}),Object(Xe.jsx)("div",{className:"c-item2__name",children:o}),Object(Xe.jsxs)("div",{className:"c-item2__info",children:["movie "===l?Object(Xe.jsxs)("span",{className:"c-item2__minute",children:[n," mins"]}):Object(Xe.jsxs)("span",{className:"c-item2__minute",children:["Release: ",j]}),i?Object(Xe.jsxs)("span",{className:"c-item2__age",children:["PG",i]}):Object(Xe.jsx)(Xe.Fragment,{})]})]})})})};var Bt=function(e){var t=e.subtitle,c=e.title,a=e.list,s=e.browseLink,n=e.browseTitle,r=function(e){var t=e.className,c=e.onClick;return Object(Xe.jsx)(It.a,{className:t+" u-fade",onClick:c})},i=function(e){var t=e.className,c=e.onClick;return Object(Xe.jsx)(At.a,{className:t+" u-fade",onClick:c})},o={dots:!0,infinite:a&&a.length>=6,speed:500,slidesToShow:6,slidesToScroll:6,nextArrow:Object(Xe.jsx)(r,{}),prevArrow:Object(Xe.jsx)(i,{}),responsive:[{breakpoint:1200,settings:{slidesToShow:4,slidesToScroll:4,infinite:a&&a.length>=4,dots:!0}},{breakpoint:850,settings:{slidesToShow:3,slidesToScroll:3,initialSlide:3,infinite:a&&a.length>=3}},{breakpoint:450,settings:{slidesToShow:2,slidesToScroll:2,infinite:a&&a.length>=2}}]};return Object(Xe.jsx)("section",{className:"p-top2 ",children:Object(Xe.jsxs)("div",{className:"l-container",children:[Object(Xe.jsxs)("div",{className:"p-top2__title u-fade",children:[Object(Xe.jsx)("h4",{className:"c-subtitle",children:t}),Object(Xe.jsx)("h3",{className:"c-title",children:c})]}),Object(Xe.jsx)("div",{className:"p-top2__content",children:a.length&&Object(Xe.jsx)(Pt.a,Object(j.a)(Object(j.a)({},o),{},{children:a.map((function(e,t){return Object(Xe.jsx)(qt,{id:e._id,image:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),cat:e.genres&&e.genres.join(", "),name:e.title,releaseDate:e.first_air_date,runtime:e.movie&&e.movie.runtime||e.tvShow&&e.tvShow.seasonCount,rated:e.popularity,type:e.movie?"movie":"tvshow"},t)}))}))}),s&&n?Object(Xe.jsx)(jt.a,{to:s,className:"c-btn c-btn--primary c-more u-fade",children:n}):Object(Xe.jsx)(Xe.Fragment,{})]})})};var Qt=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.film.movie})),c=Object(i.c)((function(e){return e.film.tv}));return Object(a.useEffect)((function(){e((function(e){ct.get("https://api.themoviedb.org/3/discover/movie?api_key=9a1fc638397541056dd18c70ea21b96b").then((function(t){e({type:p,payload:t.data.results})})).catch((function(t){console.log(t),e({type:p,payload:[]})}))})),e(Ht()),e((function(e){ct.get("https://api.themoviedb.org/3/discover/movie?api_key=9a1fc638397541056dd18c70ea21b96b").then((function(t){e({type:v,payload:t.data.results})})).catch((function(t){console.log(t),e({type:v,payload:[]})}))}))}),[e]),Object(Xe.jsx)("main",{style:{zIndex:"1"},className:"home",children:Object(Xe.jsxs)("div",{className:"p-top js-dark-here",children:[t.length&&Object(Xe.jsx)(Kt,{subtitle:"Most watched movies by days",title:"Popular Movies",list:t,browseLink:"/browse/movie",browseTitle:"BROWSE ALL MOVIE"}),c.length&&Object(Xe.jsx)(Bt,{subtitle:"Most watched movies by days",title:"TV Shows",list:c,browseLink:"/browse/tv",browseTitle:"BROWSE ALL TV SHOW"})]})})};var zt=function(){var e=Object(a.useState)(!1),t=Object(rt.a)(e,2),c=t[0],s=t[1];return Object(a.useEffect)((function(){document.title="App",s(!0)}),[c]),Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Et,{nameClass:c?"is-fadeout":""}),Object(Xe.jsx)(Gt,{}),Object(Xe.jsx)(Qt,{})]})},Xt=c(229),Jt=c(228);var Zt=function(e){var t=e.season,c=e.ep,a=e.epName,s=e.id,n=e.image,r=e.overview,o=e.index,l=Object(i.b)(),j=function(){l((function(e){e({type:E})}))};return Object(Xe.jsxs)(jt.a,{to:"/movie/".concat(s,"/watch?season=").concat(t,"&episode=").concat(c),className:"c-popup__item u-flex",onClick:function(e){return j()},children:[Object(Xe.jsxs)("div",{className:"c-popup__item__left u-flex u-a-center",children:[Object(Xe.jsx)("div",{className:"c-popup__item__ep",children:o}),Object(Xe.jsxs)("div",{className:"c-popup__item__image",children:[Object(Xe.jsx)("p",{className:"c-btn--play",children:Object(Xe.jsx)(Jt.a,{})}),Object(Xe.jsx)("img",{src:n||"".concat("","/assets/img/no-image.png"),alt:"",loading:"lazy"})]})]}),Object(Xe.jsxs)("div",{className:"c-popup__item__right",children:[Object(Xe.jsxs)("h4",{className:"c-title3",children:[" ",a]}),Object(Xe.jsx)("div",{className:"c-popup__item__content",children:ze(r||"")})]})]})};var $t=function(e){var t=e.id,c=e.title,n=e.handlePopup,r=e.seasons,i=Object(a.useState)(null),o=Object(rt.a)(i,2),l=o[0],j=o[1],d=Object(a.useState)(null),u=Object(rt.a)(d,2),b=u[0],m=u[1],h=function(e){var t=e.target.value;m(t),j("default"===t?[]:function(e){var t=r.find((function(t){return t.seasonNumber===e}));return t?t.episodes:null}(Number(t)))};return Object(a.useEffect)((function(){if(r&&r.length){m(1);var e=r.find((function(e){return 1===e.seasonNumber}));j(e?e.episodes:null)}}),[t,r]),Object(Xe.jsx)("div",{className:"c-popup",onClick:function(){return n()},children:Object(Xe.jsxs)("div",{className:"p-popup",children:[Object(Xe.jsx)("div",{className:"overlayer"}),Object(Xe.jsxs)("div",{className:"p-popup__content",onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(Xe.jsx)("div",{className:"c-close",onClick:function(){return n()},children:Object(Xe.jsx)(Xt.a,{})}),Object(Xe.jsx)("h3",{className:"c-title p-popup__title",children:c}),r&&r.length?Object(Xe.jsxs)(s.a.Fragment,{children:[Object(Xe.jsxs)("select",{name:"",id:"",className:"p-popup__season",value:b||5,onChange:function(e){return h(e)},children:[Object(Xe.jsx)("option",{value:"default",children:"Default"}),r.map((function(e,t){return Object(Xe.jsx)(s.a.Fragment,{children:Object(Xe.jsx)("option",{value:e.seasonNumber,children:e.name})},t)}))]}),Object(Xe.jsx)("h4",{className:"c-title4 p-popup__subtitle",children:"Episode"}),Object(Xe.jsx)("div",{className:"p-popup__episode",children:l&&l.map((function(e,c){return Object(Xe.jsx)(Zt,{index:c+1,season:b,ep:e.episodeNumber,epName:e.name,id:t,image:e.stillPath,overview:e.overview},c)}))||Object(Xe.jsx)("p",{className:"c-message",children:"No data available"})})]}):Object(Xe.jsx)("p",{className:"c-message",children:"No data available"})]})]})})},ec=c(13),tc=c.n(ec);var cc=function(e){var t=e.type,c=e.title,a=e.cat,s=e.description,n=e.poster,r=e.actors,o=e.year,l=e.id,j=e.movieInfo,d=e.mediaId,u=Object(i.b)(),b=function(){u(function(e){return function(t){var c=localStorage.getItem("token");t({type:Ne}),c?ct.post("/history",{mediaId:e},{headers:Qe()}).then((function(e){t({type:ye,payload:e.data})})).catch((function(e){if(e){var c=Je(e);t({type:Se,paload:c,status:e.response.status})}})):t({type:Se})}}(d)),"movie"===t?qe.push("/movie/".concat(l,"/watch")):tc()(".p-popup").fadeIn(500)};return Object(Xe.jsx)("div",{className:"p-detail1 ",children:Object(Xe.jsxs)("div",{className:"l-container",children:[Object(Xe.jsx)($t,{id:l,title:c,handlePopup:function(){"tv"===t&&tc()(".p-popup").fadeOut(500)},seasons:j.tvShow&&j.tvShow.seasons}),Object(Xe.jsx)("div",{className:"p-detail1__content js-dark-here",children:Object(Xe.jsxs)("div",{className:"row row-reverse",children:[Object(Xe.jsxs)("div",{className:"col-sm-12 col-lg-8 p-detail1__left",children:[Object(Xe.jsx)("h3",{className:"c-title1",children:c}),Object(Xe.jsxs)("div",{className:"p-detail1__cat",children:[Object(Xe.jsx)("p",{className:"c-title4",children:"Genre:"}),Object(Xe.jsxs)("a",{href:"/",children:[" ",a]})]}),Object(Xe.jsx)("p",{className:"p-detail1__des c-paragraph",children:s}),Object(Xe.jsx)("button",{className:"c-btn c-btn--primary",onClick:function(){return b()},children:"Play"})]}),Object(Xe.jsx)("div",{className:"col-sm-12 col-lg-4 p-detail1__right",children:Object(Xe.jsxs)("div",{className:"gutter",children:[Object(Xe.jsx)("div",{className:"p-detail1__image",children:Object(Xe.jsx)("img",{src:n,alt:""})}),r&&Object(Xe.jsxs)("p",{className:"p-detail1__item",children:[Object(Xe.jsx)("b",{children:"Actor:"})," ",Object(Xe.jsxs)("span",{children:[" ",r]})]})||Object(Xe.jsx)(Xe.Fragment,{}),Object(Xe.jsxs)("p",{className:"p-detail1__item",children:[Object(Xe.jsx)("b",{children:"Year:"})," ",Object(Xe.jsx)("span",{children:o})]})]})})]})})]})})},ac=c(36),sc=c.n(ac),nc=null;var rc=function(e){var t=e.type,c=e.videoID;return Object(a.useEffect)((function(){var e={type:"video",sources:[{src:c,provider:t&&t.toLowerCase()}]};nc&&nc.destroy(),(nc=new sc.a("#player")).source=e}),[t,c]),Object(Xe.jsx)("div",{className:"p-detail2 u-fade ",children:Object(Xe.jsxs)("div",{className:"p-detail2__content",children:[Object(Xe.jsx)("div",{className:"l-container",children:Object(Xe.jsx)("h3",{className:"c-title",children:"Trailer"})}),Object(Xe.jsx)("video",{id:"player",playsInline:!0,controls:!0})]})})};var ic=function(e){var t=e.id,c=Object(i.c)((function(e){return e.movie.data})),a=Object(i.c)((function(e){return e.movie.type}));return Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)("section",{className:"p-detail",children:[Object(Xe.jsx)(cc,{id:t,type:a,mediaId:c.id,title:c.title,cat:c.genres&&c.genres.map((function(e){return e.name})).join(", "),description:c.overview,poster:"https://image.tmdb.org/t/p/w500/".concat(c.poster_path),actors:c.credits?c.credits.map((function(e){return e.name})).join(", "):"Faker, Daxua, Neymar",year:c.release_date,movieInfo:c}),c.video&&(c.videos.length?Object(Xe.jsx)(rc,{type:c.videos[0].site,videoID:c.videos[0].key,poster:c.posterPath}):Object(Xe.jsx)(Xe.Fragment,{})),Object(Xe.jsx)("div",{className:"p-detail3 u-fade",children:Object(Xe.jsx)("div",{className:"l-container",children:Object(Xe.jsx)("div",{className:"p-detail3__notlogin",children:Object(Xe.jsxs)("p",{children:["You must be"," ",Object(Xe.jsx)(jt.a,{to:"/login",children:"logged in"})," to see comment"]})})})})]})})},oc=function(e){return function(t){t({type:oe}),ct.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=9a1fc638397541056dd18c70ea21b96b")).then((function(e){e.data.movie?t({type:re,payload:e.data}):t({type:ie,payload:e.data})})).catch((function(e){var c=Je(e);t({type:le,payload:c})}))}};var lc=function(e){var t=e.match,c=Object(i.c)((function(e){return e.watchlist.resMessage})),s=Object(i.c)((function(e){return e.watchlist.isSendFailed})),n=Object(i.b)(),r=Object(i.c)((function(e){return e.film.tv})),o=t.params.id,l=void 0===o?null:o,j=Object(i.c)((function(e){return e.movie.error})),d=Object(a.useState)(!1),u=Object(rt.a)(d,2),b=u[0],m=u[1];return Object(a.useEffect)((function(){window.scrollTo(0,0),n({type:Pe}),document.title="Movie Details",l?n(oc(l)):qe.push("/"),n(Ht()),m(!0)}),[n,l]),Object(a.useEffect)((function(){null!==j&&(qe.push("/"),n({type:je}))}),[n,j]),Object(Xe.jsxs)(Xe.Fragment,{children:[null!==s?Object(Xe.jsx)(Ct,{msg:c,type:s?"c-alert--error":"c-alert--success"}):Object(Xe.jsx)(Xe.Fragment,{}),Object(Xe.jsx)(Et,{nameClass:b?"is-fadeout":""}),Object(Xe.jsxs)("div",{className:"pages-movie",children:[Object(Xe.jsx)(ic,{id:l}),r.length&&Object(Xe.jsx)(Bt,{subtitle:"Most watched movies by days",title:"TV Shows",list:r,browseLink:"/browse/tv",browseTitle:"BROWSE ALL TV SHOW"})]})]})},jc=c(234),dc=c(230),uc=c(231),bc=c(232),mc=c(233);var hc=function(e){var t=e.id,c=e.title,n=e.seasons,r=e.currentSeason,i=e.currentEp,o=Object(a.useState)(null),l=Object(rt.a)(o,2),j=l[0],d=l[1],u=Object(a.useState)(r),b=Object(rt.a)(u,2),m=b[0],h=b[1],O=function(e){h(e),d(function(e){var t=n.find((function(t){return t.seasonNumber===e}));return t?t.episodes:null}(Number(e))),tc()(".c-watch-controller__season").addClass("is-fadeout"),tc()(".c-watch-controller__episode").addClass("is-show")};return Object(a.useEffect)((function(){if(tc()(".c-watch-controller").removeClass("is-show"),tc()(".js-controller-open").on("click",(function(){tc()(".c-watch-controller").addClass("is-show")})),tc()(".js-controller-close").on("click",(function(){tc()(".c-watch-controller").removeClass("is-show")})),n&&n.length&&r){var e=n.find((function(e){return e.seasonNumber===Number(r)}));d(e?e.episodes:null)}}),[t,r,i,n]),Object(Xe.jsxs)("div",{className:"c-watch-controller",children:[Object(Xe.jsx)("div",{className:"c-watch-controller__icon js-controller-open",children:Object(Xe.jsx)(dc.a,{})}),Object(Xe.jsxs)("div",{className:"c-watch-controller__content",children:[Object(Xe.jsxs)("div",{className:"c-watch-controller__season",children:[Object(Xe.jsx)("div",{className:"c-watch-controller__season__close js-controller-close",children:Object(Xe.jsx)(Xt.a,{})}),Object(Xe.jsx)("div",{className:"c-watch-controller__title",children:Object(Xe.jsx)("h3",{children:c})}),Object(Xe.jsx)("ul",{className:"c-watch-controller__list",children:n&&n.length?n.map((function(e,t){return Object(Xe.jsx)(s.a.Fragment,{children:Object(Xe.jsxs)("li",{className:"c-watch-controller__item",onClick:function(){return O(e.seasonNumber)},children:[Object(Xe.jsx)("div",{className:"c-watch-controller__item__checked",children:Number(e.seasonNumber)===Number(r)?Object(Xe.jsx)(uc.a,{}):Object(Xe.jsx)(Xe.Fragment,{})}),e.name,Object(Xe.jsx)(bc.a,{className:"c-watch-controller__item__icon"})]})},t)})):Object(Xe.jsx)("p",{className:"c-message",children:"No data available"})})]}),Object(Xe.jsxs)("div",{className:"c-watch-controller__episode",children:[Object(Xe.jsxs)("div",{className:"c-watch-controller__title",children:[Object(Xe.jsx)(mc.a,{onClick:function(e){return tc()(".c-watch-controller__season").removeClass("is-fadeout"),void tc()(".c-watch-controller__episode").removeClass("is-show")}}),Object(Xe.jsxs)("h3",{children:["Season ",m]})]}),Object(Xe.jsx)("ul",{className:"c-watch-controller__list",children:j&&j.length?j.map((function(e,c){return Object(Xe.jsx)(s.a.Fragment,{children:Object(Xe.jsx)("li",{className:"c-watch-controller__item ".concat(Number(i)===e.episodeNumber?"is-active":""),children:Object(Xe.jsx)(jt.a,{to:"/movie/".concat(t,"/watch?season=").concat(m,"&episode=").concat(e.episodeNumber),children:e.episodeNumber+". "+ze(e.overview||"",200)})})},c)})):Object(Xe.jsx)("p",{className:"c-message",children:"No data available"})})]})]})]})},Oc=null;var pc=function(e){var t=e.match,c=e.location,s=Object(i.b)(),n=t.params.id,r=ht.a.parse(c.search),o=r.season,l=r.episode,j=Object(i.c)((function(e){return e.stream.data})),d=Object(i.c)((function(e){return e.stream.isLoading})),u=Object(i.c)((function(e){return e.stream.error})),b=Object(i.c)((function(e){return e.movie.data}));return Object(a.useEffect)((function(){document.title="Stream",n?l&&o?(s(function(e,t,c){return function(a){a({type:he}),ct.get("/media/stream/".concat(e,"?season=").concat(t,"&episode=").concat(c)).then((function(e){a({type:me,payload:e.data})})).catch((function(e){console.log(e),a({type:Oe,payload:{msg:"Video link not found"}})}))}}(n,o,l)),s(oc(n))):s(function(e){return function(t){t({type:he}),ct.get("/media/stream/".concat(e)).then((function(e){t({type:me,payload:e.data})})).catch((function(e){console.log(e),t({type:Oe,payload:{msg:"Video link not found"}})}))}}(n)):qe.push("/movie/".concat(n))}),[s,l,o,n]),Object(a.useEffect)((function(){if(j.length){Oc&&Oc.destroy(),Oc=new sc.a("#player");var e={type:"video",sources:j};Oc.source=e}}),[j]),Object(Xe.jsxs)("div",{className:"p-watch js-fullheight",children:[Object(Xe.jsx)(Et,{nameClass:d?"":"is-fadeout"}),u?Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsxs)("p",{className:"c-message",children:[u,Object(Xe.jsxs)(jt.a,{to:"/movie/".concat(n),className:"u-color--main",children:[" ","Back to detail"]})]})}):Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)("video",{id:"player",playsInline:!0,controls:!0,children:Object(Xe.jsx)("source",{src:j.length&&j[0].src,type:"video/mp4"})}),o&&l?Object(Xe.jsx)(hc,{title:b.title,seasons:b.tvShow&&b.tvShow.seasons,currentSeason:o,currentEp:l,id:n}):Object(Xe.jsx)(Xe.Fragment,{}),Object(Xe.jsxs)("div",{className:"p-watch__back",children:[Object(Xe.jsx)(jc.a,{onClick:function(){qe.push("/movie/".concat(n))}}),Object(Xe.jsxs)("p",{children:["Back to detail ",l]})]})]})]})},vc=c(235);var fc=function(e){var t=e.isDark,c=void 0===t?null:t,s=Object(i.c)((function(e){return e.auth.isAuthenticated})),n=Object(i.c)((function(e){return e.auth.user})),r=Object(a.useState)(!1),o=Object(rt.a)(r,2),l=o[0],j=o[1],d=Object(i.c)((function(e){return e.search.searchKey})),u=Object(i.b)(),b=function(){j(!l)},m=function(e){e.preventDefault(),u(Ot(d)),qe.push("/search?q=".concat(d)),j(!1)};return Object(a.useEffect)((function(){tc()("a").on("click",(function(){j(!1)}))}),[n]),Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)("header",{className:"c-header",children:Object(Xe.jsxs)("div",{className:c?"p-header js-header is-dark-2":"p-header js-header ",children:[Object(Xe.jsxs)("div",{className:"p-header__content u-flex u-a-center u-between",children:[Object(Xe.jsx)(jt.a,{to:"/",className:"p-header__logo",children:Object(Xe.jsx)("img",{src:"/assets/img/logo.png",alt:""})}),Object(Xe.jsxs)("ul",{className:"p-header__cgnav u-flex",children:[Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/",children:"HOME"})}),Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/browse/movie",children:"MOVIES"})}),Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/browse/tv",children:"TV SHOWS"})}),s?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/mylist",children:"MY LIST"})}),Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/history",children:"HISTORY"})})]}):Object(Xe.jsx)(Xe.Fragment,{})]}),Object(Xe.jsxs)("div",{className:"p-header__actions u-flex u-a-center",children:[Object(Xe.jsx)(jt.a,{to:"/search",className:"p-header__actions--icon",children:Object(Xe.jsx)(lt.a,{})}),s?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(jt.a,{to:"/login",className:"p-header__account u-flex u-a-center ",children:Object(Xe.jsx)("p",{children:"LOGOUT"})}),Object(Xe.jsxs)(jt.a,{to:"/account",className:"p-header__account u-flex u-a-center ",children:[Object(Xe.jsx)("p",{children:"ACCOUNT"}),Object(Xe.jsx)("div",{className:"icon-circle",children:Object(Xe.jsx)(vc.a,{})})]})]}):Object(Xe.jsxs)(jt.a,{to:"/login",className:"p-header__account u-flex u-a-center ",children:[Object(Xe.jsx)("p",{children:"LOGIN"}),Object(Xe.jsx)("div",{className:"icon-circle",children:Object(Xe.jsx)(vc.a,{})})]})]})]}),Object(Xe.jsxs)("div",{className:"c-menusp ".concat(l?"is-open":""),children:[Object(Xe.jsxs)("div",{className:"c-menusp__controller js-bars",onClick:function(){return b()},children:[Object(Xe.jsx)("span",{className:"c-line c-line1"}),Object(Xe.jsx)("span",{className:"c-line c-line2"})]}),Object(Xe.jsxs)("div",{className:"c-menusp__content",children:[Object(Xe.jsx)("div",{className:"c-menusp__blank js-blank",onClick:function(){return b()}}),Object(Xe.jsxs)("div",{className:"c-menusp__sidebar",children:[Object(Xe.jsxs)("div",{className:"c-menusp__search",children:[Object(Xe.jsx)(lt.a,{onClick:function(e){return m(e)}}),Object(Xe.jsx)("form",{action:"",onSubmit:function(e){return m(e)},children:Object(Xe.jsx)("input",{type:"text",value:d,onChange:function(e){return function(e){var t=e.target.value;u(pt(t))}(e)}})})]}),Object(Xe.jsxs)("ul",{className:"c-menusp__cgnav",children:[Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/",children:"HOME"})}),Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/browse/movie",children:"MOVIES"})}),Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/browse/tv",children:"TV SHOWS"})}),s?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/mylist",children:"MY LIST"})}),Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/history",children:"HISTORY"})})]}):Object(Xe.jsx)(Xe.Fragment,{}),n&&"admin"===n.role&&Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/admin",children:"ADMIN PAGE"})})]}),Object(Xe.jsx)("div",{className:"c-menusp__actions",children:s?Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(jt.a,{to:"/login",className:"p-header__account u-flex u-a-center ",children:Object(Xe.jsx)("p",{children:"LOGOUT"})}),Object(Xe.jsxs)(jt.a,{to:"/account",className:"p-header__account u-flex u-a-center ",children:[Object(Xe.jsx)("p",{children:"ACCOUNT"}),Object(Xe.jsx)("div",{className:"icon-circle",children:Object(Xe.jsx)(vc.a,{})})]})]}):Object(Xe.jsxs)(jt.a,{to:"/login",className:"p-header__account u-flex u-a-center ",children:[Object(Xe.jsx)("p",{children:"LOGIN"}),Object(Xe.jsx)("div",{className:"icon-circle",children:Object(Xe.jsx)(vc.a,{})})]})}),Object(Xe.jsx)("div",{className:"c-menusp__footer u-flex u-a-center",children:Object(Xe.jsx)("p",{children:"@hambuger "})})]})]})]})]})})})};var xc=function(){return Object(Xe.jsx)("footer",{className:"c-footer footer ",children:Object(Xe.jsxs)("div",{className:"p-footer ",children:[Object(Xe.jsxs)("div",{className:"p-footer__content",children:[Object(Xe.jsx)("div",{className:"p-footer__title",children:Object(Xe.jsx)("span",{className:"p-footer__title__line"})}),Object(Xe.jsx)("div",{className:"l-container",children:Object(Xe.jsxs)("ul",{className:"p-footer__breadcrumb",children:[Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/browse/movie",children:"Movie"})}),Object(Xe.jsx)("li",{children:Object(Xe.jsx)(jt.a,{to:"/browse/tv",children:"Tv Show"})})]})})]}),Object(Xe.jsx)("p",{className:"p-footer__copyright",children:"Copyright \xa9 2022, HAMBURGER MOVIE(BY HIEU DANG). All Rights Reserved"})]})})},_c=c(236);var gc=function(e){var t=e.imgSrc,c=e.title,a=e.cat,s=e.id,n=e.overview;return Object(Xe.jsxs)("div",{className:"c-browse-item",children:[Object(Xe.jsx)(jt.a,{to:"/movie/".concat(s),className:"c-browse-item__img",children:Object(Xe.jsx)("img",{src:t,alt:c})}),Object(Xe.jsxs)("div",{className:"c-browse-item__content",children:[Object(Xe.jsxs)("div",{className:"c-browse-item__content__img",children:[Object(Xe.jsx)("img",{src:t,alt:c,loading:"lazy"}),Object(Xe.jsx)("span",{className:"c-browse-item__cat",children:a})]}),Object(Xe.jsxs)("div",{className:"c-browse-item__info",children:[Object(Xe.jsx)(jt.a,{to:"/movie/".concat(s),children:Object(Xe.jsx)("h3",{className:"c-browse-item__title",children:c})}),Object(Xe.jsx)("p",{className:"c-browse-item__overview",children:n}),Object(Xe.jsxs)(jt.a,{to:"/movie/".concat(s),className:"c-browse-item__action",children:[Object(Xe.jsx)(_c.a,{})," Play"]})]})]})]})};var Nc=function(e){var t=e.type,c=void 0===t?"movie":t,s=Object(a.useState)(!1),n=Object(rt.a)(s,2),r=n[0],i=n[1],o=Object(a.useState)([]),l=Object(rt.a)(o,2),j=l[0],d=l[1],u=Object(a.useState)([]),b=Object(rt.a)(u,2),m=b[0],O=b[1],p=Object(a.useState)(1),v=Object(rt.a)(p,2),f=v[0],x=v[1];return Object(a.useEffect)((function(){window.scrollTo(0,0),document.title="Browse","movie"===c?ct.get("https://api.themoviedb.org/3/discover/movie?api_key=9a1fc638397541056dd18c70ea21b96b&page=".concat(1)).then((function(e){O((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.data.results))})),d(e.data),i(!0)})).catch((function(){i(!0)})):ct.get("https://api.themoviedb.org/3/discover/tv?api_key=9a1fc638397541056dd18c70ea21b96b&page=".concat(1)).then((function(e){O((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.data.results))})),d(e.data),i(!0)})).catch((function(){i(!0)}))}),[c]),Object(Xe.jsxs)("div",{className:"p-browse",children:[Object(Xe.jsx)(Et,{nameClass:r?"is-fadeout":""}),Object(Xe.jsxs)("div",{className:"l-container",children:[Object(Xe.jsx)("h3",{className:"p-browse__title c-title js-dark-here",children:"movie"===c?"Movies":"Tv Shows"}),Object(Xe.jsx)("div",{className:"p-browse__content row",children:m&&m.length?m.map((function(e,t){return Object(Xe.jsx)("div",{className:"p-browse__content__item",children:Object(Xe.jsx)(gc,{imgSrc:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),title:e.title,overview:ze(e.overview,150),id:e.id,cat:(null===e||void 0===e?void 0:e.genres)&&e.genres.map((function(e){return e.name})).join(", ")})},t)})):Object(Xe.jsx)(Xe.Fragment,{})}),j&&j.totalPages&&j.totalPages>f?Object(Xe.jsx)("span",{className:"c-btn c-btn--loadmore",onClick:function(){return"movie"===c?ct.get("https://api.themoviedb.org/3/discover/movie?api_key=9a1fc638397541056dd18c70ea21b96b&page=".concat(f+1)).then((function(e){O((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.data.results))})),d(e.data),i(!0)})).catch((function(){i(!0)})):ct.get("https://api.themoviedb.org/3/discover/tv?api_key=9a1fc638397541056dd18c70ea21b96b&page=".concat(f+1)).then((function(e){O((function(t){return[].concat(Object(h.a)(t),Object(h.a)(e.data.results))})),d(e.data),i(!0)})).catch((function(){i(!0)})),void x((function(e){return e+1}))},children:"Load more"}):Object(Xe.jsx)(Xe.Fragment,{})]})]})};var yc=function(){return Object(Xe.jsx)("div",{className:"p-404",children:Object(Xe.jsx)("div",{className:"l-container",children:Object(Xe.jsxs)("div",{className:"p-404__content",children:[Object(Xe.jsx)("h3",{children:"404"}),Object(Xe.jsx)("p",{children:"You didn't break the internet, but we can't find what you are looking for."}),Object(Xe.jsx)(jt.a,{to:"/",className:"c-btn",children:"Go to the Home page"})]})})})};var Sc=function(){var e=Object(Ve.f)(),t=Object(i.b)();return Object(a.useEffect)((function(){t(nt())}),[t]),Object(a.useEffect)((function(){var t=document.querySelector(".c-header"),c=document.querySelector(".c-footer");e.pathname.includes("/watch")&&t&&c?(t.classList.add("is-hide"),c.classList.add("is-hide")):(t.classList.remove("is-hide"),c.classList.remove("is-hide"))}),[e]),Object(Xe.jsxs)("div",{className:"App",children:[Object(Xe.jsx)(fc,{}),Object(Xe.jsxs)(Ve.c,{children:[Object(Xe.jsx)(Ve.a,{path:"/forgotpassword",component:kt}),Object(Xe.jsx)(Ve.a,{path:"/verifyemail",component:Rt}),Object(Xe.jsx)(Ve.a,{path:"/recovery",component:Lt}),Object(Xe.jsx)(Ve.a,{path:"/login",component:Tt}),Object(Xe.jsx)(Ve.a,{path:"/movie/:id/watch",component:pc}),Object(Xe.jsx)(Ve.a,{path:"/movie/:id",component:lc}),Object(Xe.jsx)(Ve.a,{path:"/search",component:ft}),Object(Xe.jsx)(Ve.a,{path:"/register",component:wt}),Object(Xe.jsx)(Ve.a,{path:"/mylist",component:Dt}),Object(Xe.jsx)(Ve.a,{path:"/browse/movie",component:Nc}),Object(Xe.jsx)(Ve.a,{path:"/browse/tv",component:function(){return Object(Xe.jsx)(Nc,{type:"tv"})}}),Object(Xe.jsx)(Ve.a,{exact:!0,path:"/",component:zt}),Object(Xe.jsx)(Ve.a,{children:Object(Xe.jsx)(yc,{})})]}),Object(Xe.jsx)(xc,{})]})};c(218);r.a.render(Object(Xe.jsx)(i.a,{store:We,children:Object(Xe.jsx)(Ve.b,{history:qe,children:Object(Xe.jsx)(Sc,{})})}),document.getElementById("root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.36a292cd.chunk.js.map